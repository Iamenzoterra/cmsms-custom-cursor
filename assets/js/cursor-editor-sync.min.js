!function(){"use strict";if(window.self!==window.top&&document.body.classList.contains("cmsm-cursor-enabled")){var t=new URLSearchParams(window.location.search).get("elementor-preview");if(t){var r=document.querySelector('.elementor[data-elementor-id="'+t+'"]');if(r&&0===(r.getAttribute("data-elementor-type")||"").indexOf("cmsmasters_"))return}var e=window.location.origin,s={},a={},o=!1,i=!1,n=null,c=!1,m=!1,d=null,u=null,p=!1,l=document.createElement("style");l.id="cmsms-cursor-editor-sync-styles",l.textContent=['body.cmsms-cursor-disabled [class*="cmsms-cursor"]:not([id="cmsms-cursor-panel"]):not([class*="cmsms-cursor-panel"]):not([class*="cmsms-cursor-switch"]):not([class*="cmsms-cursor-slider"]):not(.panel-label):not(.switch-wrap):not(.switch-input):not(.switch-track):not(.switch-knob):not(.switch-text),','body.cmsms-cursor-disabled [class*="cmsm-cursor"]:not([id="cmsms-cursor-panel"]):not(#cmsm-cursor-container) {',"  opacity: 0 !important;","  visibility: hidden !important;","  pointer-events: none !important;","}","","body.cmsms-cursor-disabled { cursor: auto !important; }","body.cmsms-cursor-disabled * { cursor: inherit !important; }","","#cmsms-cursor-panel {","  position: fixed !important;","  bottom: 20px !important;","  right: 20px !important;","  z-index: 999999 !important;","  background: #1a1a1d !important;","  border-radius: 8px !important;","  padding: 10px 14px !important;","  display: flex !important;","  align-items: center !important;","  gap: 12px !important;",'  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important;',"  box-shadow: none !important;","  border: 1px solid rgba(255,255,255,0.08) !important;","  cursor: grab !important;","  user-select: none !important;","  opacity: 1 !important;","  visibility: visible !important;","}","#cmsms-cursor-panel.is-dragging { cursor: grabbing !important; }","","#cmsms-cursor-panel .panel-label {","  display: flex !important;","  align-items: center !important;","  height: 26px !important;","  color: #e4e4e7 !important;","  font-size: 13px !important;","  font-weight: 500 !important;","  white-space: nowrap !important;","  margin: 0 !important;","  padding: 0 !important;","}","","#cmsms-cursor-panel .switch-wrap {","  position: relative !important;","  display: block !important;","  width: 52px !important;","  height: 26px !important;","  cursor: pointer !important;","  flex-shrink: 0 !important;","  margin: 0 !important;","  padding: 0 !important;","}","","#cmsms-cursor-panel .switch-input {","  position: absolute !important;","  opacity: 0 !important;","  width: 0 !important;","  height: 0 !important;","}","","#cmsms-cursor-panel .switch-track {","  position: absolute !important;","  top: 0 !important;","  left: 0 !important;","  width: 100% !important;","  height: 100% !important;","  background: #3f3f46 !important;","  border-radius: 13px !important;","  transition: background 0.2s !important;","}","","#cmsms-cursor-panel .switch-knob {","  position: absolute !important;","  width: 20px !important;","  height: 20px !important;","  top: 3px !important;","  left: 3px !important;","  background: #71717a !important;","  border-radius: 50% !important;","  transition: left 0.2s, background 0.2s !important;","  z-index: 2 !important;","}","","#cmsms-cursor-panel .switch-text {","  position: absolute !important;","  top: 0 !important;","  left: 0 !important;","  width: 100% !important;","  height: 100% !important;","  display: flex !important;","  align-items: center !important;","  justify-content: flex-end !important;","  padding-right: 8px !important;","  color: #a1a1aa !important;","  font-size: 9px !important;","  font-weight: 700 !important;","  text-transform: uppercase !important;","  box-sizing: border-box !important;","  z-index: 1 !important;","}","","#cmsms-cursor-panel .switch-input:checked ~ .switch-track {","  background: linear-gradient(135deg, #d946ef 0%, #a855f7 100%) !important;","}","","#cmsms-cursor-panel .switch-input:checked ~ .switch-knob {","  left: 29px !important;","  background: #fff !important;","}","","#cmsms-cursor-panel .switch-input:checked ~ .switch-text {","  justify-content: flex-start !important;","  padding-left: 7px !important;","  padding-right: 0 !important;","  color: #fff !important;","}","","#cmsms-cursor-panel.is-loading .switch-wrap { pointer-events: none !important; opacity: 0.7 !important; }","#cmsms-cursor-panel.is-loading .switch-knob {","  background: transparent !important;","  border: 2px solid #a855f7 !important;","  border-top-color: transparent !important;","  animation: cmsms-spin 0.8s linear infinite !important;","}","","@keyframes cmsms-spin { to { transform: rotate(360deg); } }","","@keyframes cmsms-buzz {","  0% { transform: rotate(0deg); }","  3% { transform: rotate(3deg); }","  6% { transform: rotate(-3deg); }","  9% { transform: rotate(3deg); }","  12% { transform: rotate(-3deg); }","  12.5%, 100% { transform: rotate(0deg); }","}","","@keyframes cmsms-fade-in {","  from { opacity: 0; transform: scale(0.95); }","  to { opacity: 1; transform: scale(1); }","}","","#cmsms-cursor-panel.is-preloading {","  flex-direction: column !important;","  gap: 8px !important;","  min-width: 140px !important;","  animation: cmsms-buzz 4s ease-in-out infinite !important;","}","","#cmsms-cursor-panel.is-preloading .panel-label {","  justify-content: center !important;","  height: auto !important;","  font-size: 11px !important;","  text-transform: uppercase !important;","  letter-spacing: 0.5px !important;","  color: #a1a1aa !important;","}","","#cmsms-cursor-panel:not(.is-preloading) .switch-wrap {","  animation: cmsms-fade-in 0.3s ease forwards !important;","}","","#cmsms-cursor-panel .preloader-wrap {","  display: flex !important;","  align-items: center !important;","  gap: 10px !important;","  width: 100% !important;","}","","#cmsms-cursor-panel .preloader-track {","  flex: 1 !important;","  height: 4px !important;","  background: #3f3f46 !important;","  border-radius: 2px !important;","  overflow: hidden !important;","  min-width: 120px !important;","}","","#cmsms-cursor-panel .preloader-fill {","  height: 100% !important;","  width: 0%;","  background: linear-gradient(135deg, #d946ef 0%, #a855f7 100%) !important;","  border-radius: 2px !important;","  transition: width 0.1s linear !important;","}","","#cmsms-cursor-panel .preloader-percent {","  color: #e4e4e7 !important;","  font-size: 12px !important;","  font-weight: 600 !important;","  min-width: 36px !important;","  text-align: right !important;","}","","/* FIX: Blend Mode Strong SVG invisibility in editor */","/* filter: contrast(1.5) creates nested stacking context */","/* that breaks SVG rendering in iframe. Disable in editor. */","body.cmsm-cursor-blend-strong #cmsm-cursor-container {","  filter: none !important;","}","","/* Responsive mode: hide everything on tablet/mobile */","#cmsms-cursor-panel.is-responsive-hidden { display: none !important; }","body.cmsms-responsive-hidden #cmsm-cursor-container { display: none !important; }","body.cmsms-responsive-hidden .cmsm-cursor { display: none !important; }","","/* Theme Builder template: hide panel when editing Entry/Popup/Archive/etc. */","#cmsms-cursor-panel.is-template-hidden { display: none !important; }"].join("\n"),document.head.appendChild(l),document.body.classList.add("cmsms-cursor-disabled"),document.addEventListener("keydown",function(t){if("c"===t.key.toLowerCase()&&!t.ctrlKey&&!t.metaKey&&!t.altKey){var r=t.target.tagName;if("INPUT"===r||"TEXTAREA"===r||t.target.isContentEditable)return;i||L()}}),window.addEventListener("message",function(t){if(t.origin===e){if(t.data&&t.data.type)if(p||"cmsmasters:cursor:update"!==t.data.type&&"cmsmasters:cursor:init"!==t.data.type||(p=!0,y()),"cmsmasters:cursor:template-check"!==t.data.type)if("cmsmasters:cursor:device-mode"!==t.data.type){if("cmsmasters:cursor:update"===t.data.type){var r=t.data.elementId,s=t.data.settings;r&&s&&(a[r]=s,M(r,s))}if("cmsmasters:cursor:init"===t.data.type){var o=t.data.elements;o&&Array.isArray(o)&&o.forEach(function(t){t.id&&t.settings&&(a[t.id]=t.settings,M(t.id,t.settings))})}}else{T(/tablet|mobile/i.test(t.data.mode))}else t.data.isThemeBuilder?(n&&n.classList.add("is-template-hidden"),k()):n&&n.classList.remove("is-template-hidden")}else window.CMSM_DEBUG&&console.warn("[CursorEditorSync] Rejected message from untrusted origin:",t.origin)});var _=null,f=new MutationObserver(function(t){clearTimeout(_),_=setTimeout(g,300)});"loading"===document.readyState?document.addEventListener("DOMContentLoaded",h):h(),setTimeout(j,500),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",q):q(),window.cmsmastersCursorEditorSync={apply:M,clear:E,requestInit:j,enable:z,disable:k,toggle:L,isEnabled:function(){return o},isLoading:function(){return i}},window.addEventListener("resize",function(){T(window.innerWidth<=1024)}),window.addEventListener("beforeunload",function(){u&&(cancelAnimationFrame(u),u=null)})}function g(){var t=document.querySelectorAll("[data-id]"),r=0;t.forEach(function(t){var e=t.getAttribute("data-id");a[e]&&!function(t){return t.hasAttribute("data-cursor")||t.hasAttribute("data-cursor-image")||t.hasAttribute("data-cursor-text")||t.hasAttribute("data-cursor-icon")}(t)&&(M(e,a[e]),r++)}),r>0&&window.CMSM_DEBUG&&console.log("[CursorEditorSync] Re-synced "+r+" elements after DOM re-render")}function h(){f.observe(document.body,{childList:!0,subtree:!0})}function b(){var t,r,e,s,a,o;n||((n=document.createElement("div")).id="cmsms-cursor-panel",n.setAttribute("data-cursor","hide"),n.classList.add("is-preloading"),n.innerHTML='<span class="panel-label" data-cursor="hide">Custom Cursor Preview</span><div class="preloader-wrap" data-cursor="hide"><div class="preloader-track" data-cursor="hide"><div class="preloader-fill" data-cursor="hide"></div></div><span class="preloader-percent" data-cursor="hide">0%</span></div>',document.body.appendChild(n),o=!1,(t=n).addEventListener("mousedown",function(i){if(!i.target.closest(".switch-wrap")){o=!0,t.classList.add("is-dragging");var n=t.getBoundingClientRect();r=i.clientX,e=i.clientY,s=n.left,a=n.top,t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.bottom="auto",t.style.right="auto",t.style.left=s+"px",t.style.top=a+"px",i.preventDefault()}}),document.addEventListener("mousemove",function(i){o&&(t.style.left=s+i.clientX-r+"px",t.style.top=a+i.clientY-e+"px")}),document.addEventListener("mouseup",function(){o&&(o=!1,t.classList.remove("is-dragging"))}))}function y(){d=Date.now(),x()}function x(){var t=Date.now()-d,r=Math.min(t/15e3,1),e=Math.floor(100*r),s=n.querySelector(".preloader-fill"),a=n.querySelector(".preloader-percent");s&&(s.style.width=e+"%"),a&&(a.textContent=e+"%"),r<1?u=requestAnimationFrame(x):function(){if(!n)return;n.classList.remove("is-preloading"),n.innerHTML='<span class="panel-label" data-cursor="hide">Custom Cursor Preview</span><label class="switch-wrap" data-cursor="hide"><input type="checkbox" class="switch-input" data-cursor="hide"><span class="switch-track" data-cursor="hide"></span><span class="switch-knob" data-cursor="hide"></span><span class="switch-text" data-cursor="hide">Off</span></label>';var t=n.querySelector(".switch-input");t&&t.addEventListener("change",function(){i||(this.checked?A():k())})}()}function v(){return n&&n.querySelector(".switch-input")}function w(){return n&&n.querySelector(".switch-text")}function A(){if(!i){i=!0,n.classList.add("is-loading");var t=w();t&&(t.textContent="..."),setTimeout(function(){i=!1,n.classList.remove("is-loading"),z()},2e3)}}function k(){o=!1,i=!1,document.body.classList.add("cmsms-cursor-disabled"),n&&n.classList.remove("is-loading");var t=v(),r=w();t&&(t.checked=!1),r&&(r.textContent="Off")}function z(){o=!0,i=!1,document.body.classList.remove("cmsms-cursor-disabled"),n&&n.classList.remove("is-loading");var t=v(),r=w();t&&(t.checked=!0),r&&(r.textContent="On")}function L(){i||(o?k():A())}function E(t){["data-cursor","data-cursor-color","data-cursor-blend","data-cursor-effect","data-cursor-image","data-cursor-image-size","data-cursor-image-size-hover","data-cursor-image-rotate","data-cursor-image-rotate-hover","data-cursor-image-effect","data-cursor-text","data-cursor-text-typography","data-cursor-text-color","data-cursor-text-bg","data-cursor-text-circle","data-cursor-text-circle-spacing","data-cursor-text-radius","data-cursor-text-padding","data-cursor-text-effect","data-cursor-icon","data-cursor-icon-color","data-cursor-icon-bg","data-cursor-icon-preserve","data-cursor-icon-size","data-cursor-icon-size-hover","data-cursor-icon-rotate","data-cursor-icon-rotate-hover","data-cursor-icon-circle","data-cursor-icon-circle-spacing","data-cursor-icon-radius","data-cursor-icon-padding","data-cursor-icon-effect"].forEach(function(r){t.removeAttribute(r)})}function C(t,r){return t?"object"==typeof t&&void 0!==t.size?t.size:t:r}function S(t){if(!t)return"";var r=t.unit||"px";return(t.top||0)+r+" "+(t.right||0)+r+" "+(t.bottom||0)+r+" "+(t.left||0)+r}function M(t,r){var e=function(t){if(s[t]&&s[t].isConnected)return s[t];var r=document.querySelector('[data-id="'+t+'"]');r&&(s[t]=r);return r}(t);if(e)if(E(e),"yes"!==r.cmsmasters_cursor_hide)if("yes"===r.cmsmasters_cursor_special_active){var a=r.cmsmasters_cursor_special_type||"image";"image"===a?function(t,r){var e=r.cmsmasters_cursor_image&&r.cmsmasters_cursor_image.url;if(!e)return;t.setAttribute("data-cursor-image",e),t.setAttribute("data-cursor-image-size",C(r.cmsmasters_cursor_size_normal,32)),t.setAttribute("data-cursor-image-size-hover",C(r.cmsmasters_cursor_size_hover,48)),t.setAttribute("data-cursor-image-rotate",C(r.cmsmasters_cursor_rotate_normal,0)),t.setAttribute("data-cursor-image-rotate-hover",C(r.cmsmasters_cursor_rotate_hover,0)),r.cmsmasters_cursor_effect&&t.setAttribute("data-cursor-image-effect",r.cmsmasters_cursor_effect);r.cmsmasters_cursor_special_blend&&t.setAttribute("data-cursor-blend",r.cmsmasters_cursor_special_blend)}(e,r):"text"===a?function(t,r){var e=r.cmsmasters_cursor_text_content;if(!e)return;t.setAttribute("data-cursor-text",e),t.setAttribute("data-cursor-text-color",r.cmsmasters_cursor_text_color||"#000000"),t.setAttribute("data-cursor-text-bg",r.cmsmasters_cursor_text_bg_color||"#ffffff");var s={};r.cmsmasters_cursor_text_typography_font_family&&(s.font_family=r.cmsmasters_cursor_text_typography_font_family);if(r.cmsmasters_cursor_text_typography_font_size){var a=r.cmsmasters_cursor_text_typography_font_size;s.font_size="object"==typeof a?a.size:a,s.font_size_unit=("object"==typeof a?a.unit:null)||"px"}r.cmsmasters_cursor_text_typography_font_weight&&(s.font_weight=r.cmsmasters_cursor_text_typography_font_weight);r.cmsmasters_cursor_text_typography_font_style&&(s.font_style=r.cmsmasters_cursor_text_typography_font_style);r.cmsmasters_cursor_text_typography_text_transform&&(s.text_transform=r.cmsmasters_cursor_text_typography_text_transform);if(r.cmsmasters_cursor_text_typography_line_height){var o=r.cmsmasters_cursor_text_typography_line_height;"object"==typeof o&&void 0!==o.size?(s.line_height=o.size,s.line_height_unit=o.unit||""):s.line_height=o}if(r.cmsmasters_cursor_text_typography_letter_spacing){var i=r.cmsmasters_cursor_text_typography_letter_spacing;"object"==typeof i&&void 0!==i.size?(s.letter_spacing=i.size,s.letter_spacing_unit=i.unit||"px"):(s.letter_spacing=i,s.letter_spacing_unit="px")}if(r.cmsmasters_cursor_text_typography_word_spacing){var n=r.cmsmasters_cursor_text_typography_word_spacing;"object"==typeof n&&void 0!==n.size?(s.word_spacing=n.size,s.word_spacing_unit=n.unit||"px"):(s.word_spacing=n,s.word_spacing_unit="px")}r.cmsmasters_cursor_text_typography_text_decoration&&(s.text_decoration=r.cmsmasters_cursor_text_typography_text_decoration);Object.keys(s).length>0&&t.setAttribute("data-cursor-text-typography",JSON.stringify(s));"yes"===r.cmsmasters_cursor_text_fit_circle?(t.setAttribute("data-cursor-text-circle","yes"),t.setAttribute("data-cursor-text-circle-spacing",C(r.cmsmasters_cursor_text_circle_spacing,10))):(r.cmsmasters_cursor_text_border_radius&&t.setAttribute("data-cursor-text-radius",S(r.cmsmasters_cursor_text_border_radius)),r.cmsmasters_cursor_text_padding&&t.setAttribute("data-cursor-text-padding",S(r.cmsmasters_cursor_text_padding)));r.cmsmasters_cursor_effect&&t.setAttribute("data-cursor-text-effect",r.cmsmasters_cursor_effect);r.cmsmasters_cursor_special_blend&&t.setAttribute("data-cursor-blend",r.cmsmasters_cursor_special_blend)}(e,r):"icon"===a&&function(t,r){var e=r.cmsmasters_cursor_icon;if(!e)return;var s="";if("svg"===e.library){var a=e.value&&e.value.url?e.value.url:"";if(!a)return;s='<img src="'+a+'" alt="" />'}else{if(!e.value||"string"!=typeof e.value)return;s='<i class="'+e.value+'"></i>'}t.setAttribute("data-cursor-icon",s),t.setAttribute("data-cursor-icon-color",r.cmsmasters_cursor_icon_color||"#000000"),t.setAttribute("data-cursor-icon-bg",r.cmsmasters_cursor_icon_bg_color||"#ffffff"),"yes"===r.cmsmasters_cursor_icon_preserve_colors&&t.setAttribute("data-cursor-icon-preserve","yes");t.setAttribute("data-cursor-icon-size",C(r.cmsmasters_cursor_icon_size_normal,32)),t.setAttribute("data-cursor-icon-size-hover",C(r.cmsmasters_cursor_icon_size_hover,48)),"yes"===r.cmsmasters_cursor_icon_fit_circle&&t.setAttribute("data-cursor-icon-circle","yes");r.cmsmasters_cursor_effect&&t.setAttribute("data-cursor-icon-effect",r.cmsmasters_cursor_effect);r.cmsmasters_cursor_special_blend&&t.setAttribute("data-cursor-blend",r.cmsmasters_cursor_special_blend)}(e,r)}else!function(t,r){r.cmsmasters_cursor_hover_style&&t.setAttribute("data-cursor",r.cmsmasters_cursor_hover_style);"yes"===r.cmsmasters_cursor_force_color&&r.cmsmasters_cursor_color&&t.setAttribute("data-cursor-color",r.cmsmasters_cursor_color);r.cmsmasters_cursor_blend_mode&&t.setAttribute("data-cursor-blend",r.cmsmasters_cursor_blend_mode);r.cmsmasters_cursor_effect&&t.setAttribute("data-cursor-effect",r.cmsmasters_cursor_effect)}(e,r);else e.setAttribute("data-cursor","hide")}function j(){window.parent&&window.parent!==window&&window.parent.postMessage({type:"cmsmasters:cursor:request-init"},e)}function T(t){t&&!c?(c=!0,m=o,o&&k(),n&&n.classList.add("is-responsive-hidden"),document.body.classList.add("cmsms-responsive-hidden")):!t&&c&&(c=!1,n&&n.classList.remove("is-responsive-hidden"),document.body.classList.remove("cmsms-responsive-hidden"),m&&z())}function q(){b(),k(),setTimeout(function(){p||(p=!0,y())},2e3)}}();